<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 1</title>
    <link rel="stylesheet" href="../level.css">
</head>
<body>

    <!-- level 1 game page -->

    <!-- Back button to return to the main page -->
    <a href="../index.html"> 
        <button class="back">
            <img src="../Images/arrow-back-regular-24.png">
        </button>
    </a>
    
    <!-- background sound -->
    <audio controls autoplay>
        <source src="../level bg music.mp3" type="audio/mp3">
    </audio>
   
    <!-- Reference image for the puzzle -->
    <img id="refrenceImg" src="./img 1.png">
    
    <h2>Level 1</h2> 
    <!-- puzzle 1 -->
    <div id="puzzle"></div>
    <div id="timer"><h3>Time: 5:00</h3></div>

    <script src="../game.js"></script>

    <script> 
    // starting timer
    const startingMin = 30;
    let time = startingMin*60;

    const timerEl = document.getElementById('timer');
    const intervalId = setInterval(startTimer, 1000);

    
    
    // function to start the timer
    function startTimer(){
        const minutes = Math.floor(time/60);
        let seconds = time%60;

        timerEl.innerHTML = `Time - ${minutes}: ${seconds}`;
        time--;

        // checking the winning and losing conditions
        // if(score==1600){
        //     // arraysEqual(imgOrder, orgOrder);

            for (let i = 0; i < imgOrder.length; i++) {
                console.log(imgOrder[i],"img",orgOrder[i],"org")
                if (imgOrder[i] === orgOrder[i]) {
                    location.href= "./win1.html";
                }
                else if(time < 0){
                    location.href= "./lose1.html";
                }
            };
        //     console.log("hello")
        //     window.location.href = "./win1.html";
        // }
        // else if (time < 0 ) {
        //     clearInterval(intervalId);
        //     
        // }
    }

    // console.log(score,"score")
    // function arraysEqual(imgOrder, orgOrder) {
    //     console.log(imgOrder,orgOrder)
    //     if (imgOrder.length === orgOrder.length){

    //         for (let i = 0; i < imgOrder.length; i++) {
    //             console.log(imgOrder[i],"img",orgOrder[i],"org")
    //             if (imgOrder[i] === orgOrder[i]){
    //                 score+=100
    //                 // console.log(score , "score hello")
    //                 localStorage.setItem('score',score);
                    
    //             };
    //         }
    //         return score;
    //     }
    // }

    // arraysEqual(imgOrder,orgOrder)
    
    
    // if(imgOrder[i] === orgOrder[i]){
    //     score+=100
    // }
    startTimer()

    </script>
</body>
</html>